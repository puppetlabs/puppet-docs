<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Puppet::Property
  
    &mdash; Documentation by YARD 0.8.7.3
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Puppet.html" title="Puppet (module)">Puppet</a></span></span>
     &raquo; 
    <span class="title">Property</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Puppet::Property
  <span class="abstract note title">Abstract</span>
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Parameter.html" title="Puppet::Parameter (class)">Parameter</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'>Object</span></li>
          
            <li class="next"><span class='object_link'><a href="Parameter.html" title="Puppet::Parameter (class)">Parameter</a></span></li>
          
            <li class="next">Puppet::Property</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/puppet/property.rb<span class="defines">,<br />
  lib/puppet/type/zpool.rb,<br /> lib/puppet/property/list.rb,<br /> lib/puppet/property/keyvalue.rb,<br /> lib/puppet/property/ordered_list.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <div class="note abstract">
  <strong>This class is abstract.</strong>
  <div class='inline'>
</div>
</div>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>Describe meta-parameter shadowing. This concept can not be understood by just looking at the descriptions
of the methods involved.</p>
</div>
  </div>


  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Properties of Types are expressed using subclasses of this class. Such a class describes one
named property of a particular Type (as opposed to describing a type of property in general). This
limits the use of one (concrete) property class instance to occur only once for a given type's inheritance
chain. An instance of a Property class is the value holder of one instance of the resource type (e.g. the
mode of a file resource instance).
A Property class may server as the superclass <em>(parent)</em> of another; e.g. a Size property that describes
handling of measurements such as kb, mb, gb. If a type requires two different size measurements it requires
one concrete class per such measure; e.g. MinSize (:parent => Size), and MaxSize (:parent => Size).</p>
</div>
  </div>

<p>The Property class is the implementation of a resource's attributes of <em>property</em> kind.
A Property is a specialized Resource Type Parameter that has both an 'is' (current) state, and
a 'should' (wanted state). However, even if this is conceptually true, the current <em>is</em> value is
obtained by asking the associated provider for the value, and hence it is not actually part of a
property's state, and only available when a provider has been selected and can obtain the value (i.e. when
running on an agent).</p>

<p>A Property (also in contrast to a parameter) is intended to describe a managed attribute of
some system entity, such as the name or mode of a file.</p>

<p>The current value <em>(is)</em> is read and written with the methods <span class='object_link'>#retrieve</span> and <span class='object_link'><a href="#set-instance_method" title="Puppet::Property#set (method)">#set</a></span>, and the wanted
value <em>(should)</em> is read and written with the methods <span class='object_link'>#value</span> and <span class='object_link'><a href="#value%3D-instance_method" title="Puppet::Property#value= (method)">#value=</a></span> which delegate to
<span class='object_link'><a href="#should-instance_method" title="Puppet::Property#should (method)">#should</a></span> and <span class='object_link'><a href="#should%3D-instance_method" title="Puppet::Property#should= (method)">#should=</a></span>, i.e. when a property is used like any other parameter, it is the <em>should</em> value
that is operated on.</p>

<p>All resource type properties in the puppet system are derived from this class.</p>

<p>The intention is that new parameters are created by using the DSL method <span class='object_link'><a href="Type.html#newproperty-class_method" title="Puppet::Type.newproperty (method)">Type.newproperty</a></span>.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Type.html" title="Puppet::Type (class)">Type</a></span></li>
    
      <li><span class='object_link'><a href="Parameter.html" title="Puppet::Parameter (class)">Parameter</a></span></li>
    
  </ul>

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Property/Ensure.html" title="Puppet::Property::Ensure (class)">Ensure</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Property/Ensure.html" title="Puppet::Property::Ensure (class)">Ensure</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  




  <h2>Class Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      
<li class="public ">
  <span class="summary_signature">
    
      <a href="#array_matching-class_method" title="array_matching (class method)">+ (Symbol) <strong>array_matching</strong> </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">DSL</span>
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The <code>is</code> vs&#46; <code>should</code> array matching mode; <code>:first</code>, or <code>:all</code>.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Parameter.html" title="Puppet::Parameter (class)">Parameter</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Parameter.html#parent-instance_method" title="Puppet::Parameter#parent (method)">#parent</a></span></p>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#method_added-class_method" title="method_added (class method)">+ (Object) <strong>method_added</strong>(sym) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Protects against override of the <span class='object_link'><a href="#safe_insync%3F-instance_method" title="Puppet::Property#safe_insync? (method)">#safe_insync?</a></span> method.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#newvalue-class_method" title="newvalue (class method)">+ (Object) <strong>newvalue</strong>(name, options = {}, &amp;block) </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">DSL</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defines a new valid value for this property.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#value_name-class_method" title="value_name (class method)">+ (Symbol, Regexp) <strong>value_name</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Looks up a value's name among valid values, to enable option lookup with result as a key.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#value_option-class_method" title="value_option (class method)">+ (Object) <strong>value_option</strong>(name, option) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of the given option (set when a valid value with the given "name" was defined).</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#call_provider-instance_method" title="#call_provider (instance method)">- (Object) <strong>call_provider</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Calls the provider setter method for this property with the given value as argument.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#call_valuemethod-instance_method" title="#call_valuemethod (instance method)">- (Object) <strong>call_valuemethod</strong>(name, value) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Sets the value of this property to the given value by calling the dynamically created setter method associated with the "valid value" referenced by the given name.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Property) <strong>initialize</strong>(hash = {}) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Initializes a Property the same way as a Parameter and handles the special case when a property is shadowing a meta-parameter.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#insync%3F-instance_method" title="#insync? (instance method)">- (Boolean) <strong>insync?</strong>(is) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Checks if the current <em>(is)</em> value is in sync with the wanted <em>(should)</em> value.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#safe_insync%3F-instance_method" title="#safe_insync? (instance method)">- (Boolean) <strong>safe_insync?</strong>(is) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Determines whether the property is in-sync or not in a way that is protected against missing value.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#set-instance_method" title="#set (instance method)">- (Object) <strong>set</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the current <em>(is)</em> value of this property.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#should-instance_method" title="#should (instance method)">- (Array&lt;Object&gt;, ...) <strong>should</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the wanted <em>(should)</em> value of this property.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#should%3D-instance_method" title="#should= (instance method)">- (Object) <strong>should=</strong>(values) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the wanted <em>(should)</em> value of this property.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#unsafe_validate-instance_method" title="#unsafe_validate (instance method)">- <strong>unsafe_validate</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Asserts that the given value is valid.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_features_per_value-instance_method" title="#validate_features_per_value (instance method)">- <strong>validate_features_per_value</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Asserts that all required provider features are present for the given property value.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#value%3D-instance_method" title="#value= (instance method)">- (Object) <strong>value=</strong>(values) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the wanted <em>(should)</em> value of this property.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Parameter.html" title="Puppet::Parameter (class)">Parameter</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Parameter.html#aliasvalue-class_method" title="Puppet::Parameter.aliasvalue (method)">aliasvalue</a></span>, <span class='object_link'><a href="Parameter.html#defaultto-class_method" title="Puppet::Parameter.defaultto (method)">defaultto</a></span>, <span class='object_link'><a href="Parameter.html#desc-class_method" title="Puppet::Parameter.desc (method)">desc</a></span>, <span class='object_link'><a href="Parameter.html#doc-class_method" title="Puppet::Parameter.doc (method)">doc</a></span>, <span class='object_link'><a href="Parameter.html#initvars-class_method" title="Puppet::Parameter.initvars (method)">initvars</a></span>, <span class='object_link'><a href="Parameter.html#isnamevar-class_method" title="Puppet::Parameter.isnamevar (method)">isnamevar</a></span>, <span class='object_link'><a href="Parameter.html#isnamevar%3F-class_method" title="Puppet::Parameter.isnamevar? (method)">isnamevar?</a></span>, <span class='object_link'><a href="Parameter.html#isrequired-class_method" title="Puppet::Parameter.isrequired (method)">isrequired</a></span>, <span class='object_link'><a href="Parameter.html#munge-class_method" title="Puppet::Parameter.munge (method)">munge</a></span>, <span class='object_link'><a href="Parameter.html#newvalues-class_method" title="Puppet::Parameter.newvalues (method)">newvalues</a></span>, <span class='object_link'><a href="Parameter.html#nodefault-class_method" title="Puppet::Parameter.nodefault (method)">nodefault</a></span>, <span class='object_link'><a href="Parameter.html#pathbuilder-instance_method" title="Puppet::Parameter#pathbuilder (method)">#pathbuilder</a></span>, <span class='object_link'><a href="Parameter.html#proxymethods-class_method" title="Puppet::Parameter.proxymethods (method)">proxymethods</a></span>, <span class='object_link'><a href="Parameter.html#required%3F-class_method" title="Puppet::Parameter.required? (method)">required?</a></span>, <span class='object_link'><a href="Parameter.html#unmunge-class_method" title="Puppet::Parameter.unmunge (method)">unmunge</a></span>, <span class='object_link'><a href="Parameter.html#unsafe_munge-instance_method" title="Puppet::Parameter#unsafe_munge (method)">#unsafe_munge</a></span>, <span class='object_link'><a href="Parameter.html#validate-class_method" title="Puppet::Parameter.validate (method)">validate</a></span>, <span class='object_link'><a href="Parameter.html#validate-instance_method" title="Puppet::Parameter#validate (method)">#validate</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'>Util</span></h3>
  <p class="inherited"><span class='object_link'><a href="Util.html#exit_on_fail-class_method" title="Puppet::Util.exit_on_fail (method)">exit_on_fail</a></span>, <span class='object_link'><a href="Util.html#exit_on_fail-instance_method" title="Puppet::Util#exit_on_fail (method)">#exit_on_fail</a></span>, <span class='object_link'><a href="Util.html#which-class_method" title="Puppet::Util.which (method)">which</a></span>, <span class='object_link'><a href="Util.html#which-instance_method" title="Puppet::Util#which (method)">#which</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Puppet::Property (class)">Property</a></span></tt>) <strong>initialize</strong>(hash = {}) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>There is some special initialization when a property is not a metaparameter but
Puppet::Type.metaparamclass(for this class's name) is not nil - if that is the case a
setup_shadow is performed for that class.</p>
</div>
  </div>


  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>New properties of a type should be created via the DSL method <span class='object_link'><a href="Type.html#newproperty-class_method" title="Puppet::Type.newproperty (method)">Type.newproperty</a></span>.</p>
</div>
  </div>

<p>Initializes a Property the same way as a Parameter and handles the special case when a property is shadowing a meta-parameter.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hash</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Hash</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>options passed to the super initializer <span class='object_link'><a href="Parameter.html#initialize-instance_method" title="Puppet::Parameter#initialize (method)">Puppet::Parameter#initialize</a></span></p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Parameter.html#initialize-instance_method" title="Puppet::Parameter#initialize (method)">description of Parameter initialize options.</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293
294
295
296
297
298
299</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 293</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='rubyid_hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_super super kw'>super</span>

  <span class='rubyid_if if kw'>if</span> <span class='notop op'>!</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_metaparam? fid id'>metaparam?</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Type constant id'>Type</span><span class='dot token'>.</span><span class='rubyid_metaparamclass identifier id'>metaparamclass</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='rubyid_setup_shadow identifier id'>setup_shadow</span><span class='lparen token'>(</span><span class='rubyid_klass identifier id'>klass</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id="array_matching=-class_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="array_matching-class_method">
  
    + (<tt><span class='object_link'>Symbol</span></tt>) <strong>array_matching</strong> &nbsp;<span class="note title readonly">DSL</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>The semantics of these modes are implemented by the method <span class='object_link'><a href="#insync%3F-instance_method" title="Puppet::Property#insync? (method)">#insync?</a></span>. That method is the default
implementation and it has a backwards compatible behavior that imposes additional constraints
on what constitutes a positive match. A derived property may override that method.</p>
</div>
  </div>

<p>The <code>is</code> vs&#46; <code>should</code> array matching mode; <code>:first</code>, or <code>:all</code>.</p>

<dl>
<dt>* <code>:first</code></dt>
<dt>  This is primarily used for single value properties. When matched against an array of values</dt>
<dt>  a match is true if the <code>is</code> value matches any of the values in the <code>should</code> array. When the <code>is</code> value</dt>
<dt>  is also an array, the matching is performed against the entire array as the <code>is</code> value.</dt>
<dt>* <code>:all</code></dt>
<dd>This is primarily used for multi-valued properties. When matched against an array of
<code>should</code> values, the size of <code>is</code> and <code>should</code> must be the same, and all values in <code>is</code> must match
a value in <code>should</code>.</dd>
</dl>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Symbol</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>(:first) the mode in which matching is performed</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#insync%3F-instance_method" title="Puppet::Property#insync? (method)">#insync?</a></span></li>
    
  </ul>
<p class="tag_title">DSL:</p>
<ul class="dsl">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>type</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 93</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_array_matching identifier id'>array_matching</span>
  <span class='rubyid_@array_matching ivar id'>@array_matching</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:first</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="method_added-class_method">
  
    + (<tt><span class='object_link'>Object</span></tt>) <strong>method_added</strong>(sym) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Protects against override of the <span class='object_link'><a href="#safe_insync%3F-instance_method" title="Puppet::Property#safe_insync? (method)">#safe_insync?</a></span> method.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>RuntimeError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the added method is <code>:safe_insync?</code></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


321
322
323</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 321</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_method_added identifier id'>method_added</span><span class='lparen token'>(</span><span class='rubyid_sym identifier id'>sym</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='string val'>&quot;Puppet::Property#safe_insync? shouldn't be overridden; please override insync? instead&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_sym identifier id'>sym</span> <span class='eq op'>==</span> <span class='symbol val'>:safe_insync?</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="newvalue-class_method">
  
    + (<tt><span class='object_link'>Object</span></tt>) <strong>newvalue</strong>(name, options = {}, &amp;block) &nbsp;<span class="note title readonly">DSL</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>Option :event original comment says "event should be returned...", is "returned" the correct word
to use?</p>
</div>
  </div>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>The original documentation states that the option <code>:method</code> will set the name of the generated
setter method, but this is not implemented. Is the documentatin or the implementation in error?
(The implementation is in Puppet::Parameter::ValueCollection#new_value).</p>
</div>
  </div>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>verify that the use of :before and :after have been deprecated (or rather - never worked, and
was never in use. (This means, that the option :call could be removed since calls are always :instead).</p>
</div>
  </div>

<p>Defines a new valid value for this property.
A valid value is specified as a literal (typically a Symbol), but can also be
specified with a Regexp.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Symbol</span></tt>, <tt><span class='object_link'>Regexp</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a valid literal value, or a regexp that matches a value</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Hash</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>a hash with options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:event</span>
          <span class="type">(<tt><span class='object_link'>Symbol</span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The event that should be emitted when this value is set.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:call</span>
          <span class="type">(<tt><span class='object_link'>Symbol</span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>When to call any associated block. The default value is <code>:instead</code> which
means that the block should be called instead of the provider. In earlier versions (before 20081031) it
was possible to specify a value of <code>:before</code> or <code>:after</code> for the purpose of calling
both the block and the provider. Use of these deprecated options will now raise an exception later
in the process when the <em>is</em> value is set (see #set).</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:invalidate_refreshes</span>
          <span class="type">(<tt><span class='object_link'>Symbol</span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>Indicates a change on this property should invalidate and
remove any scheduled refreshes (from notify or subscribe) targeted at the same resource. For example, if
a change in this property takes into account any changes that a scheduled refresh would have performed,
then the scheduled refresh would be deleted.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">any</span>
          <span class="type">(<tt><span class='object_link'>Object</span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>Any other option is treated as a call to a setter having the given
option name (e.g. <code>:required_features</code> calls <code>required_features=</code> with the option's value as an
argument).</p>
</div>
          
        </li>
      
    </ul>
  
    
    

<p class="tag_title">DSL:</p>
<ul class="dsl">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>type</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162
163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 160</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_newvalue identifier id'>newvalue</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_value identifier id'>value</span> <span class='assign token'>=</span> <span class='rubyid_value_collection identifier id'>value_collection</span><span class='dot token'>.</span><span class='rubyid_newvalue identifier id'>newvalue</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>

  <span class='rubyid_define_method identifier id'>define_method</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='dot token'>.</span><span class='rubyid_method identifier id'>method</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_value identifier id'>value</span><span class='dot token'>.</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_value identifier id'>value</span><span class='dot token'>.</span><span class='rubyid_method identifier id'>method</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_value identifier id'>value</span><span class='dot token'>.</span><span class='rubyid_block identifier id'>block</span>
  <span class='rubyid_value identifier id'>value</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value_name-class_method">
  
    + (<tt><span class='object_link'>Symbol</span></tt>, <tt><span class='object_link'>Regexp</span></tt>) <strong>value_name</strong>(name) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Looks up a value's name among valid values, to enable option lookup with result as a key.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the parameter value to match against valid values (names).</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Symbol</span></tt>, <tt><span class='object_link'>Regexp</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a value matching predicate</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113
114
115</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 111</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_value_name identifier id'>value_name</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_value identifier id'>value</span> <span class='assign token'>=</span> <span class='rubyid_value_collection identifier id'>value_collection</span><span class='dot token'>.</span><span class='rubyid_match? fid id'>match?</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='rubyid_value identifier id'>value</span><span class='dot token'>.</span><span class='rubyid_name identifier id'>name</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value_option-class_method">
  
    + (<tt><span class='object_link'>Object</span></tt>) <strong>value_option</strong>(name, option) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>Guessing on result of passing a non supported option (it performs send(option)).</p>
</div>
  </div>

<p>Returns the value of the given option (set when a valid value with the given "name" was defined).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Symbol</span></tt>, <tt><span class='object_link'>Regexp</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the valid value predicate as returned by <span class='object_link'><a href="#value_name-class_method" title="Puppet::Property.value_name (method)">value_name</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>option</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Symbol</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the name of the wanted option</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>value of the option</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>NoMethodError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the option is not supported</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 125</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_value_option identifier id'>value_option</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_option identifier id'>option</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_value identifier id'>value</span> <span class='assign token'>=</span> <span class='rubyid_value_collection identifier id'>value_collection</span><span class='dot token'>.</span><span class='rubyid_value identifier id'>value</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='rubyid_value identifier id'>value</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='rubyid_option identifier id'>option</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="call_provider-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>call_provider</strong>(value) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Calls the provider setter method for this property with the given value as argument.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>what the provider returns when calling a setter for this property's name</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::Error</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when the provider can not handle this property.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#set-instance_method" title="Puppet::Property#set (method)">#set</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 173</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_call_provider identifier id'>call_provider</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='rubyid_method identifier id'>method</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_name identifier id'>name</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='plus op'>+</span> <span class='string val'>&quot;=&quot;</span>
    <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_provider identifier id'>provider</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span> <span class='rubyid_method identifier id'>method</span>
      <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_fail identifier id'>fail</span> <span class='dstring node'>&quot;The #{provider.class.name} provider can not handle attribute #{self.class.name}&quot;</span>
    <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_provider identifier id'>provider</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='rubyid_method identifier id'>method</span><span class='comma token'>,</span> <span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call_valuemethod-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>call_valuemethod</strong>(name, value) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>The check for a valid value option called <code>:method</code> does not seem to be fully supported
as it seems that this option is never consulted when the method is dynamically created. Needs to
be investigated. (Bug, or documentation needs to be changed).</p>
</div>
  </div>

<p>Sets the value of this property to the given value by calling the dynamically created setter method associated with the "valid value" referenced by the given name.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Symbol</span></tt>, <tt><span class='object_link'>Regexp</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a valid value "name" as returned by <span class='object_link'><a href="#value_name-class_method" title="Puppet::Property.value_name (method)">value_name</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the value to set as the value of the property</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::DevError</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if there was no method to call</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::Error</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if there were problems setting the value</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::ResourceError</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if there was a problem setting the value and it was not raised
as a Puppet::Error. The original exception is wrapped and logged.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#set-instance_method" title="Puppet::Property#set (method)">#set</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 194</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_call_valuemethod identifier id'>call_valuemethod</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_method identifier id'>method</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_value_option identifier id'>value_option</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='symbol val'>:method</span><span class='rparen token'>)</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='rubyid_method identifier id'>method</span><span class='rparen token'>)</span>
    <span class='rubyid_begin begin kw'>begin</span>
      <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='rubyid_method identifier id'>method</span><span class='rparen token'>)</span>
    <span class='rubyid_rescue rescue kw'>rescue</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Error constant id'>Error</span>
      <span class='rubyid_raise identifier id'>raise</span>
    <span class='rubyid_rescue rescue kw'>rescue</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_detail identifier id'>detail</span>
      <span class='rubyid_error identifier id'>error</span> <span class='assign token'>=</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_ResourceError constant id'>ResourceError</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Could not set '#{value}' on #{self.class.name}: #{detail}&quot;</span><span class='comma token'>,</span> <span class='rubyid_@resource ivar id'>@resource</span><span class='dot token'>.</span><span class='rubyid_line identifier id'>line</span><span class='comma token'>,</span> <span class='rubyid_@resource ivar id'>@resource</span><span class='dot token'>.</span><span class='rubyid_file identifier id'>file</span><span class='comma token'>,</span> <span class='rubyid_detail identifier id'>detail</span><span class='rparen token'>)</span>
      <span class='rubyid_error identifier id'>error</span><span class='dot token'>.</span><span class='rubyid_set_backtrace identifier id'>set_backtrace</span> <span class='rubyid_detail identifier id'>detail</span><span class='dot token'>.</span><span class='rubyid_backtrace identifier id'>backtrace</span>
      <span class='rubyid_Puppet constant id'>Puppet</span><span class='dot token'>.</span><span class='rubyid_log_exception identifier id'>log_exception</span><span class='lparen token'>(</span><span class='rubyid_detail identifier id'>detail</span><span class='comma token'>,</span> <span class='rubyid_error identifier id'>error</span><span class='dot token'>.</span><span class='rubyid_message identifier id'>message</span><span class='rparen token'>)</span>
      <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_error identifier id'>error</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_block identifier id'>block</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_value_option identifier id'>value_option</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='symbol val'>:block</span><span class='rparen token'>)</span>
    <span class='comment val'># FIXME It'd be better here to define a method, so that</span>
    <span class='comment val'># the blocks could return values.</span>
    <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_instance_eval identifier id'>instance_eval</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_devfail identifier id'>devfail</span> <span class='dstring node'>&quot;Could not find method for value '#{name}'&quot;</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="insync?-instance_method">
  
    - (<tt><span class='object_link'>Boolean</span></tt>) <strong>insync?</strong>(is) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>The implementation should really do return is.zip(@should).all? {|a, b| property_matches?(a, b) }
instead of using equality check and then check against an array with converted strings.</p>
</div>
  </div>


  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>The array matching logic in this method contains backwards compatible logic that performs the
comparison in <code>:all</code> mode by checking equality and equality of <em>is</em> against <em>should</em> converted to array of String,
and that the lengths are equal, and in <code>:first</code> mode by checking if one of the <em>should</em> values
is included in the <em>is</em> values. This means that the <em>is</em> value needs to be carefully arranged to
match the <em>should</em>.</p>
</div>
  </div>

<p>Checks if the current <em>(is)</em> value is in sync with the wanted <em>(should)</em> value.
The check if the two values are in sync is controlled by the result of <span class='object_link'>#match_all?</span> which
specifies a match of <code>:first</code> or <code>:all</code>). The matching of the <em>is</em> value against the entire <em>should</em> value
or each of the <em>should</em> values (as controlled by <span class='object_link'>#match_all?</span> is performed by <span class='object_link'>#property_matches?</span>.</p>

<p>A derived property typically only needs to override the <span class='object_link'>#property_matches?</span> method, but may also
override this method if there is a need to have more control over the array matching logic.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>is</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The current <em>(is)</em> value to check if it is in sync with the wanted <em>(should)</em> value(s)</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Boolean</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>whether the values are in sync or not.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::DevError</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if wanted value <em>(should)</em> is not an array.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 345</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_insync? fid id'>insync?</span><span class='lparen token'>(</span><span class='rubyid_is identifier id'>is</span><span class='rparen token'>)</span>
  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_devfail identifier id'>devfail</span> <span class='dstring node'>&quot;#{self.class.name}'s should is not array&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@should ivar id'>@should</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_Array constant id'>Array</span><span class='rparen token'>)</span>

  <span class='comment val'># an empty array is analogous to no should values</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_true true kw'>true</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@should ivar id'>@should</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>

  <span class='comment val'># Look for a matching value, either for all the @should values, or any of</span>
  <span class='comment val'># them, depending on the configuration of this property.</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_match_all? fid id'>match_all?</span> <span class='rubyid_then then kw'>then</span>
    <span class='comment val'># Emulate Array#== using our own comparison function.</span>
    <span class='comment val'># A non-array was not equal to an array, which @should always is.</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_false false kw'>false</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_is identifier id'>is</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span> <span class='rubyid_Array constant id'>Array</span>

    <span class='comment val'># If they were different lengths, they are not equal.</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_false false kw'>false</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_is identifier id'>is</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='eq op'>==</span> <span class='rubyid_@should ivar id'>@should</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span>

    <span class='comment val'># Finally, are all the elements equal?  In order to preserve the</span>
    <span class='comment val'># behaviour of previous 2.7.x releases, we need to impose some fun rules</span>
    <span class='comment val'># on &quot;equality&quot; here.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># Specifically, we need to implement *this* comparison: the two arrays</span>
    <span class='comment val'># are identical if the is values are == the should values, or if the is</span>
    <span class='comment val'># values are == the should values, stringified.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This does mean that property equality is not commutative, and will not</span>
    <span class='comment val'># work unless the `is` value is carefully arranged to match the should.</span>
    <span class='rubyid_return return kw'>return</span> <span class='lparen token'>(</span><span class='rubyid_is identifier id'>is</span> <span class='eq op'>==</span> <span class='rubyid_@should ivar id'>@should</span> <span class='rubyid_or or kw'>or</span> <span class='rubyid_is identifier id'>is</span> <span class='eq op'>==</span> <span class='rubyid_@should ivar id'>@should</span><span class='dot token'>.</span><span class='rubyid_map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:to_s</span><span class='rparen token'>)</span><span class='rparen token'>)</span>

    <span class='comment val'># When we stop being idiots about this, and actually have meaningful</span>
    <span class='comment val'># semantics, this version is the thing we actually want to do.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># return is.zip(@should).all? {|a, b| property_matches?(a, b) }</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_@should ivar id'>@should</span><span class='dot token'>.</span><span class='rubyid_any? fid id'>any?</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_want identifier id'>want</span><span class='bitor op'>|</span> <span class='rubyid_property_matches? fid id'>property_matches?</span><span class='lparen token'>(</span><span class='rubyid_is identifier id'>is</span><span class='comma token'>,</span> <span class='rubyid_want identifier id'>want</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="safe_insync?-instance_method">
  
    - (<tt><span class='object_link'>Boolean</span></tt>) <strong>safe_insync?</strong>(is) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>If the wanted value <em>(should)</em> is not defined or is set to a non-true value then this is
a state that can not be fixed and the property is reported to be in sync.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Do not override this method.</p>
</div>
  </div>

<p>Determines whether the property is in-sync or not in a way that is protected against missing value.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Boolean</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the protected result of <code>true</code> or the result of calling <span class='object_link'><a href="#insync%3F-instance_method" title="Puppet::Property#insync? (method)">#insync?</a></span>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


309
310
311
312
313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 309</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_safe_insync? fid id'>safe_insync?</span><span class='lparen token'>(</span><span class='rubyid_is identifier id'>is</span><span class='rparen token'>)</span>
  <span class='comment val'># If there is no @should value, consider the property to be in sync.</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_true true kw'>true</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@should ivar id'>@should</span>

  <span class='comment val'># Otherwise delegate to the (possibly derived) insync? method.</span>
  <span class='rubyid_insync? fid id'>insync?</span><span class='lparen token'>(</span><span class='rubyid_is identifier id'>is</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>set</strong>(value) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>In older versions (before 20081031) it was possible to specify the call types <code>:before</code> and <code>:after</code>
which had the effect that both the provider method and the <em>valid value</em> block were called.
This is no longer supported.</p>
</div>
  </div>

<p>Sets the current <em>(is)</em> value of this property.
The value is set using the provider's setter method for this property (<span class='object_link'><a href="#call_provider-instance_method" title="Puppet::Property#call_provider (method)">#call_provider</a></span>) if nothing
else has been specified. If the <em>valid value</em> for the given value defines a <code>:call</code> option with the
value <code>:instead</code>, the
value is set with <span class='object_link'><a href="#call_valuemethod-instance_method" title="Puppet::Property#call_valuemethod (method)">#call_valuemethod</a></span> which invokes a block specified for the valid value.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the value to set as the value of this property</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>returns what <span class='object_link'><a href="#call_valuemethod-instance_method" title="Puppet::Property#call_valuemethod (method)">#call_valuemethod</a></span> or <span class='object_link'><a href="#call_provider-instance_method" title="Puppet::Property#call_provider (method)">#call_provider</a></span> returns</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::Error</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when the provider setter should be used but there is no provider set in the <em>associated
resource</em></p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::DevError</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when a deprecated call form was specified (e.g. <code>:before</code> or <code>:after</code>).</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 491</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_set identifier id'>set</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='comment val'># Set a name for looking up associated options like the event.</span>
  <span class='rubyid_name identifier id'>name</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_value_name identifier id'>value_name</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>

  <span class='rubyid_call identifier id'>call</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_value_option identifier id'>value_option</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='symbol val'>:call</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='symbol val'>:none</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_call identifier id'>call</span> <span class='eq op'>==</span> <span class='symbol val'>:instead</span>
    <span class='rubyid_call_valuemethod identifier id'>call_valuemethod</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_call identifier id'>call</span> <span class='eq op'>==</span> <span class='symbol val'>:none</span>
    <span class='comment val'># They haven't provided a block, and our parent does not have</span>
    <span class='comment val'># a provider, so we have no idea how to handle this.</span>
    <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_fail identifier id'>fail</span> <span class='dstring node'>&quot;#{self.class.name} cannot handle values of type #{value.inspect}&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@resource ivar id'>@resource</span><span class='dot token'>.</span><span class='rubyid_provider identifier id'>provider</span>
    <span class='rubyid_call_provider identifier id'>call_provider</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='comment val'># LAK:NOTE 20081031 This is a change in behaviour -- you could</span>
    <span class='comment val'># previously specify :call =&gt; [;before|:after], which would call</span>
    <span class='comment val'># the setter *in addition to* the block.  I'm convinced this</span>
    <span class='comment val'># was never used, and it makes things unecessarily complicated.</span>
    <span class='comment val'># If you want to specify a block and still call the setter, then</span>
    <span class='comment val'># do so in the block.</span>
    <span class='rubyid_devfail identifier id'>devfail</span> <span class='dstring node'>&quot;Cannot use obsolete :call value '#{call}' for property '#{self.class.name}'&quot;</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="should-instance_method">
  
    - (<tt><span class='object_link'>Array</span>&lt;<span class='object_link'>Object</span>&gt;</tt>, ...) <strong>should</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>This method will potentially return different values than the original values as they are
converted via munging/unmunging. If the original values are wanted, call <span class='object_link'>#shouldorig</span>.</p>
</div>
  </div>

<p>Returns the wanted <em>(should)</em> value of this property.
If the <em>array matching mode</em> <span class='object_link'>#match_all?</span> is true, an array of the wanted values in unmunged format
is returned, else the first value in the array of wanted values in unmunged format is returned.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Array</span>&lt;<span class='object_link'>Object</span>&gt;</tt>, <tt><span class='object_link'>Object</span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Array of values if <span class='object_link'>#match_all?</span> else a single value, or nil if there are no
wanted values.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::DevError</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the wanted value is non nil and not an array</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'>#shouldorig</span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


538
539
540
541
542
543
544
545
546
547
548</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 538</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_should identifier id'>should</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_nil nil kw'>nil</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='rubyid_@should ivar id'>@should</span><span class='rparen token'>)</span>

  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_devfail identifier id'>devfail</span> <span class='dstring node'>&quot;should for #{self.class.name} on #{resource.name} is not an array&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@should ivar id'>@should</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_Array constant id'>Array</span><span class='rparen token'>)</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_match_all? fid id'>match_all?</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_@should ivar id'>@should</span><span class='dot token'>.</span><span class='rubyid_collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_val identifier id'>val</span><span class='bitor op'>|</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_unmunge identifier id'>unmunge</span><span class='lparen token'>(</span><span class='rubyid_val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_unmunge identifier id'>unmunge</span><span class='lparen token'>(</span><span class='rubyid_@should ivar id'>@should</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="should=-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>should=</strong>(values) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the wanted <em>(should)</em> value of this property.
If the given value is not already an Array, it will be wrapped in one before being set.
This method also sets the cached original <em>should</em> values returned by <span class='object_link'>#shouldorig</span>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>values</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Array</span>&lt;<span class='object_link'>Object</span>&gt;</tt>, <tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the value(s) to set as the wanted value(s)</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>StandardError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when validation of a value fails (see <span class='object_link'><a href="Parameter.html#validate-instance_method" title="Puppet::Parameter#validate (method)">Puppet::Parameter#validate</a></span>).</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


558
559
560
561
562
563
564
565</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 558</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_should= identifier id'>should=</span><span class='lparen token'>(</span><span class='rubyid_values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='rubyid_values identifier id'>values</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rubyid_values identifier id'>values</span><span class='rbrack token'>]</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_values identifier id'>values</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_Array constant id'>Array</span><span class='rparen token'>)</span>

  <span class='rubyid_@shouldorig ivar id'>@shouldorig</span> <span class='assign token'>=</span> <span class='rubyid_values identifier id'>values</span>

  <span class='rubyid_values identifier id'>values</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_val identifier id'>val</span><span class='bitor op'>|</span> <span class='rubyid_validate identifier id'>validate</span><span class='lparen token'>(</span><span class='rubyid_val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='rubyid_@should ivar id'>@should</span> <span class='assign token'>=</span> <span class='rubyid_values identifier id'>values</span><span class='dot token'>.</span><span class='rubyid_collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_val identifier id'>val</span><span class='bitor op'>|</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_munge identifier id'>munge</span><span class='lparen token'>(</span><span class='rubyid_val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unsafe_validate-instance_method">
  
    - <strong>unsafe_validate</strong>(value) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>Asserts that the given value is valid.
If the developer uses a 'validate' hook, this method will get overridden.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Exception</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the value is invalid, or value can not be handled.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


590
591
592
593</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 590</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_unsafe_validate identifier id'>unsafe_validate</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='rubyid_super super kw'>super</span>
  <span class='rubyid_validate_features_per_value identifier id'>validate_features_per_value</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_features_per_value-instance_method">
  
    - <strong>validate_features_per_value</strong>(value) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>Asserts that all required provider features are present for the given property value.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if a required feature is not present</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


600
601
602
603
604
605
606</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 600</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_validate_features_per_value identifier id'>validate_features_per_value</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_features identifier id'>features</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_value_option identifier id'>value_option</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_value_name identifier id'>value_name</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='symbol val'>:required_features</span><span class='rparen token'>)</span>
    <span class='rubyid_features identifier id'>features</span> <span class='assign token'>=</span> <span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_features identifier id'>features</span><span class='rparen token'>)</span>
    <span class='rubyid_needed_features identifier id'>needed_features</span> <span class='assign token'>=</span> <span class='rubyid_features identifier id'>features</span><span class='dot token'>.</span><span class='rubyid_collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_f identifier id'>f</span><span class='bitor op'>|</span> <span class='rubyid_f identifier id'>f</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='rubyid_join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;, &quot;</span><span class='rparen token'>)</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Provider must have features '#{needed_features}' to set '#{self.class.name}' to '#{value}'&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_provider identifier id'>provider</span><span class='dot token'>.</span><span class='rubyid_satisfies? fid id'>satisfies?</span><span class='lparen token'>(</span><span class='rubyid_features identifier id'>features</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value=-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>value=</strong>(values) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the wanted <em>(should)</em> value of this property.
If the given value is not already an Array, it will be wrapped in one before being set.
This method also sets the cached original <em>should</em> values returned by <span class='object_link'>#shouldorig</span>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>values</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Array</span>&lt;<span class='object_link'>Object</span>&gt;</tt>, <tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the value(s) to set as the wanted value(s)</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>StandardError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when validation of a value fails (see <span class='object_link'><a href="Parameter.html#validate-instance_method" title="Puppet::Parameter#validate (method)">Puppet::Parameter#validate</a></span>).</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


614
615
616</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/property.rb', line 614</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_value= identifier id'>value=</span><span class='lparen token'>(</span><span class='rubyid_values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_should identifier id'>should</span> <span class='assign token'>=</span> <span class='rubyid_values identifier id'>values</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Feb 19 13:52:16 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.3 (ruby-1.8.7).
</div>

  </body>
</html>